{"remainingRequest":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js!/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js","dependencies":[{"path":"/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js","mtime":1618499032812},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90b21hcy9EZXNrdG9wL2hlbGxvLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgY3JlZCBmcm9tICcuLi8uLi9jcmVkLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIC8qKkxvZ2luIG1ldGhvZAogICAqIAogICAqIEBwYXJhbSB7Kn0gY29udGV4dCAKICAgKiBAcGFyYW0geyp9IHBheWxvYWQgCiAgICovCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1cmwsIHJlc3BvbnNlLCByZXNwb25zZURhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB1cmwgPSBjcmVkLmRldi51cmxfbG9naW47CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybCwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBtb2RlOiAnY29ycycsCiAgICAgICAgICAgICAgICAvLyBuby1jb3JzLCAqY29ycywgc2FtZS1vcmlnaW4KICAgICAgICAgICAgICAgIGNhY2hlOiAnbm8tY2FjaGUnLAogICAgICAgICAgICAgICAgLy8gKmRlZmF1bHQsIG5vLWNhY2hlLCByZWxvYWQsIGZvcmNlLWNhY2hlLCBvbmx5LWlmLWNhY2hlZAogICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICAgICAvLyBpbmNsdWRlLCAqc2FtZS1vcmlnaW4sIG9taXQKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JywKICAgICAgICAgICAgICAgIC8vIG1hbnVhbCwgKmZvbGxvdywgZXJyb3IKICAgICAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiAnbm8tcmVmZXJyZXInLAogICAgICAgICAgICAgICAgZW5jdHlwZTogJ211dGlwYXJ0L2Zvcm0tZGF0YScsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VEYXRhLmNvZGUgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJSZXF1ZXN0IGZhaWxlZCB3aXRoIGVycm9yIGNvZGU6ICIgKyByZXNwb25zZS5zdGF0dXMpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAvLyBxdWkgdHV0dG8gb2sgCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFVzZXInLCB7CiAgICAgICAgICAgICAgICB0b2tlbjogcmVzcG9uc2VEYXRhLnRva2VuLAogICAgICAgICAgICAgICAgdXNlcklkOiByZXNwb25zZURhdGEuZW1haWwsCiAgICAgICAgICAgICAgICBleHBpcmVzSW46IHJlc3BvbnNlRGF0YS5leHBpcmVzSW4KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXNwb25zZURhdGEudG9rZW4pOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCByZXNwb25zZURhdGEuZW1haWwpOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdleHBpcmVzSW4nLCByZXNwb25zZURhdGEuZXhwaXJlc0luKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogcmVnaXN0ZXIgbWV0aG9kCiAgICogQHBhcmFtIHsqfSBfIAogICAqIEBwYXJhbSB7Kn0gcGF5bG9hZCAKICAgKi8KICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoXywgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciB1cmwsIHJlc3BvbnNlLCByZXNwb25zZURhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yZWdpc3Rlcic7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnLAogICAgICAgICAgICAgICAgLy8gbm8tY29ycywgKmNvcnMsIHNhbWUtb3JpZ2luCiAgICAgICAgICAgICAgICBjYWNoZTogJ25vLWNhY2hlJywKICAgICAgICAgICAgICAgIC8vICpkZWZhdWx0LCBuby1jYWNoZSwgcmVsb2FkLCBmb3JjZS1jYWNoZSwgb25seS1pZi1jYWNoZWQKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLAogICAgICAgICAgICAgICAgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIC8vICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLAogICAgICAgICAgICAgICAgLy8gbWFudWFsLCAqZm9sbG93LCBlcnJvcgogICAgICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6ICduby1yZWZlcnJlcicsCiAgICAgICAgICAgICAgICBlbmN0eXBlOiAnbXV0aXBhcnQvZm9ybS1kYXRhJywKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgICAgICAgICAgICBzdXJuYW1lOiBwYXlsb2FkLnN1cm5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlRGF0YS5jb2RlID09PSA0MDkpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlJlcXVlc3QgZmFpbGVkIHdpdGggZXJyb3IgY29kZTogIiArIHJlc3BvbnNlLnN0YXR1cyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKCiAgLyoqCiAgICogR2V0IGNhbGxzIGluIGV2ZXJ5IHBhZ2Ugcmlsb2FkCiAgICogQHBhcmFtIHsqfSBfIAogICAqIEBwYXJhbSB7Kn0gcGF5bG9hZCAKICAgKi8KICB0cnlMb2dpbjogZnVuY3Rpb24gdHJ5TG9naW4oY29udGV4dCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciB0b2tlbiwgdXNlcklkLCBleHBpcmVzSW47CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgICB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7CiAgICAgICAgICAgICAgZXhwaXJlc0luID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2V4cGlyZXNJbicpOwoKICAgICAgICAgICAgICBpZiAodG9rZW4gJiYgdXNlcklkKSB7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlcicsIHsKICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICAgICAgICAgICAgZXhwaXJlc0luOiBleHBpcmVzSW4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCgogIC8qKgogICAqIExvZ3MgdGhlIHVzZXIgb3V0CiAgICogQHBhcmFtIHsqfSBjb250ZXh0IAogICAqLwogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KGNvbnRleHQpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJJZCcpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2V4cGlyZXNJbicpOwogICAgY29udGV4dC5jb21taXQoJ3NldFVzZXInLCB7CiAgICAgIHRva2VuOiBudWxsLAogICAgICBleHBpcmVkOiBudWxsLAogICAgICB1c2VySWQ6IG51bGwKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/Users/tomas/Desktop/hello-vue/src/store/modules/auth/actions.js"],"names":["cred","login","context","payload","url","dev","url_login","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","enctype","body","JSON","stringify","email","password","response","json","responseData","ok","code","Error","message","status","commit","token","userId","expiresIn","localStorage","setItem","register","_","console","log","name","surname","tryLogin","getItem","logout","removeItem","expired"],"mappings":"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","sourcesContent":["import cred from '../../cred.js'\n\n\nexport default {\n    /**Login method\n     * \n     * @param {*} context \n     * @param {*} payload \n     */\n    async login(context, payload) {\n\n        let url = cred.dev.url_login\n\n        const response = await fetch(url, {\n            method: 'POST',\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json',\n\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer',\n            enctype: 'mutipart/form-data',\n            body: JSON.stringify({\n                email: payload.email,\n                password: payload.password\n            })\n        });\n        const responseData = await response.json()\n\n        if (!response.ok) {\n            if (responseData.code === 401) {\n                throw new Error(responseData.message)\n            } else\n                throw new Error(\"Request failed with error code: \" + response.status)\n\n        }\n        // qui tutto ok \n        context.commit('setUser', {\n            token: responseData.token,\n            userId: responseData.email,\n            expiresIn: responseData.expiresIn\n        })\n\n        localStorage.setItem('token', responseData.token)\n        localStorage.setItem('userId', responseData.email)\n        localStorage.setItem('expiresIn', responseData.expiresIn)\n\n    },\n\n\n    /**\n     * register method\n     * @param {*} _ \n     * @param {*} payload \n     */\n    async register(_, payload) {\n        let url = 'http://localhost:3000/register'\n        console.log(payload)\n        const response = await fetch(url, {\n            method: 'POST',\n            mode: 'cors', // no-cors, *cors, same-origin\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n            credentials: 'same-origin', // include, *same-origin, omit\n            headers: {\n                //      'Content-Type': 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded',\n\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer',\n            enctype: 'mutipart/form-data',\n            body: JSON.stringify({\n                name: payload.name,\n                surname: payload.surname,\n                email: payload.email,\n                password: payload.password\n            })\n        });\n        const responseData = await response.json()\n\n        if (!response.ok) {\n            if (responseData.code === 409) {\n                throw new Error(responseData.message)\n            } else\n                throw new Error(\"Request failed with error code: \" + response.status)\n\n        }\n\n\n    },\n\n    /**\n     * Get calls in every page riload\n     * @param {*} _ \n     * @param {*} payload \n     */\n    async tryLogin(context) {\n        const token = localStorage.getItem('token')\n        const userId = localStorage.getItem('userId')\n        const expiresIn = localStorage.getItem('expiresIn')\n\n        if (token && userId) {\n            context.commit('setUser', {\n                token: token,\n                userId: userId,\n                expiresIn: expiresIn\n            })\n        }\n    },\n\n    /**\n     * Logs the user out\n     * @param {*} context \n     */\n    logout(context) {\n\n        localStorage.removeItem('token')\n        localStorage.removeItem('userId')\n        localStorage.removeItem('expiresIn')\n\n        context.commit('setUser', {\n            token: null,\n            expired: null,\n            userId: null\n\n        })\n\n    }\n\n\n\n}"]}]}