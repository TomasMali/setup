{"remainingRequest":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js!/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tomas/Desktop/hello-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/tomas/Desktop/hello-vue/src/pages/auth/UserLogin.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/tomas/Desktop/hello-vue/src/pages/auth/UserLogin.vue","mtime":1618495051511},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomas/Desktop/hello-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90b21hcy9EZXNrdG9wL2hlbGxvLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogewogICAgICAgIHZhbHVlOiAiIiwKICAgICAgICBpc1ZhbGlkOiB0cnVlCiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiB7CiAgICAgICAgdmFsdWU6ICIiLAogICAgICAgIGlzVmFsaWQ6IHRydWUKICAgICAgfSwKICAgICAgaXNGb3JtVmFsaWQ6IHRydWUsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybVN1Ym1pdDogZnVuY3Rpb24gZm9ybVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFjdGlvblBheWxvYWQsIHJlZGlyZWN0dXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmVtYWlsVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzLnBhc3N3b3JkVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0Zvcm1WYWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwudmFsdWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZC52YWx1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIGFjdGlvblBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZWRpcmVjdHVybCA9ICIvIiArIChfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgInB1YmxpYyIpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZShyZWRpcmVjdHVybCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBfY29udGV4dC50MC5tZXNzYWdlIHx8ICJGYWlsZWQgdG8gYXV0aGVudGljYXRlIjsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s2LCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW1haWxWYWxpZGF0aW9uOiBmdW5jdGlvbiBlbWFpbFZhbGlkYXRpb24oKSB7CiAgICAgIHRoaXMuZW1haWwuaXNWYWxpZCA9IHRydWU7CiAgICAgIHRoaXMuaXNGb3JtVmFsaWQgPSB0cnVlOwoKICAgICAgaWYgKCF0aGlzLmVtYWlsLnZhbHVlIHx8ICF0aGlzLmVtYWlsLnZhbHVlLmluY2x1ZGVzKCJAIikpIHsKICAgICAgICB0aGlzLmVtYWlsLmlzVmFsaWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzRm9ybVZhbGlkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwYXNzd29yZFZhbGlkYXRpb246IGZ1bmN0aW9uIHBhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgdGhpcy5pc0Zvcm1WYWxpZCA9IHRydWU7CiAgICAgIHRoaXMucGFzc3dvcmQuaXNWYWxpZCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMucGFzc3dvcmQudmFsdWUgfHwgdGhpcy5wYXNzd29yZC52YWx1ZS5sZW5ndGggPCA0KSB7CiAgICAgICAgdGhpcy5pc0Zvcm1WYWxpZCA9IGZhbHNlOwogICAgICAgIHRoaXMucGFzc3dvcmQuaXNWYWxpZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkgewogICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fQp9Ow=="},{"version":3,"sources":["/Users/tomas/Desktop/hello-vue/src/pages/auth/UserLogin.vue"],"names":[],"mappings":";;;;;;AAgDA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE,EADF;AAEL,QAAA,OAAO,EAAE;AAFJ,OADF;AAKL,MAAA,QAAQ,EAAE;AACR,QAAA,KAAK,EAAE,EADC;AAER,QAAA,OAAO,EAAE;AAFD,OALL;AASL,MAAA,WAAW,EAAE,IATR;AAUL,MAAA,KAAK,EAAE,IAVF;AAWL,MAAA,SAAS,EAAE;AAXN,KAAP;AAaD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACD,IAAA,UADC,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB,gBAAA,KAAI,CAAC,eAAL;;AACA,gBAAA,KAAI,CAAC,kBAAL;;AAFiB,oBAGZ,KAAI,CAAC,WAHO;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAMjB,gBAAA,KAAI,CAAC,SAAL,GAAiB,IAAjB;AAEM,gBAAA,aARW,GAQK;AACpB,kBAAA,KAAK,EAAE,KAAI,CAAC,KAAL,CAAW,KADE;AAEpB,kBAAA,QAAQ,EAAE,KAAI,CAAC,QAAL,CAAc;AAFJ,iBARL;AAAA;AAAA;AAAA,uBAcT,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B,aAA9B,CAdS;;AAAA;AAeT,gBAAA,WAfS,GAeK,OAAO,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,QAAlB,IAA8B,QAArC,CAfL;;AAgBf,gBAAA,KAAI,CAAC,OAAL,CAAa,OAAb,CAAqB,WAArB;;AAhBe;AAAA;;AAAA;AAAA;AAAA;AAkBf,gBAAA,KAAI,CAAC,KAAL,GAAa,YAAM,OAAN,IAAiB,wBAA9B;;AAlBe;AAqBjB,gBAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;;AArBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBlB,KAvBM;AAwBP,IAAA,eAxBO,6BAwBW;AAChB,WAAK,KAAL,CAAW,OAAX,GAAqB,IAArB;AACA,WAAK,WAAL,GAAmB,IAAnB;;AACA,UAAI,CAAC,KAAK,KAAL,CAAW,KAAZ,IAAqB,CAAC,KAAK,KAAL,CAAW,KAAX,CAAiB,QAAjB,CAA0B,GAA1B,CAA1B,EAA0D;AACxD,aAAK,KAAL,CAAW,OAAX,GAAqB,KAArB;AACA,aAAK,WAAL,GAAmB,KAAnB;AACF;AACD,KA/BM;AAgCP,IAAA,kBAhCO,gCAgCc;AACnB,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,QAAL,CAAc,OAAd,GAAwB,IAAxB;;AACA,UAAI,CAAC,KAAK,QAAL,CAAc,KAAf,IAAwB,KAAK,QAAL,CAAc,KAAd,CAAoB,MAApB,GAA6B,CAAzD,EAA4D;AAC1D,aAAK,WAAL,GAAmB,KAAnB;AACA,aAAK,QAAL,CAAc,OAAd,GAAwB,KAAxB;AACF;AACD,KAvCM;AAwCP,IAAA,WAxCO,yBAwCO;AACZ,WAAK,KAAL,GAAa,IAAb;AACD;AA1CM,GAhBI;AA4Db,EAAA,QAAQ,EAAE;AA5DG,CAAf","sourcesContent":["<template>\n  <div>\n    <base-dialog\n      :show=\"!!error\"\n      title=\"An error occurred!\"\n      @close=\"handleError\"\n      >{{ error }}</base-dialog\n    >\n\n    <base-dialog :show=\"isLoading\" fixed title=\"Login...\">\n      <base-spinner></base-spinner>\n    </base-dialog>\n\n    <base-card>\n      <form @submit.prevent=\"formSubmit\">\n        <div class=\"form-control\">\n          <label for=\"email\">Login</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            v-model.trim=\"email.value\"\n            @blur=\"emailValidation\"\n          />\n          <p v-if=\"!email.isValid\">Please enter a valid email</p>\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            v-model.number=\"password.value\"\n            @blur=\"passwordValidation\"\n          />\n          <p v-if=\"!password.isValid\">Password is required!!</p>\n        </div>\n\n        <base-button>Login</base-button>\n        If not yet <router-link to=\"/register\">Register</router-link> to signup!\n      </form>\n    </base-card>\n  </div>\n</template>\n\n\n\n\n\n<script>\nexport default {\n  data() {\n    return {\n      email: {\n        value: \"\",\n        isValid: true,\n      },\n      password: {\n        value: \"\",\n        isValid: true,\n      },\n      isFormValid: true,\n      error: null,\n      isLoading: false,\n    };\n  },\n  methods: {\n    async formSubmit() {\n      this.emailValidation();\n      this.passwordValidation();\n      if (!this.isFormValid) {\n        return;\n      }\n      this.isLoading = true;\n\n      const actionPayload = {\n        email: this.email.value,\n        password: this.password.value,\n      };\n\n      try {\n        await this.$store.dispatch(\"login\", actionPayload);\n        const redirecturl = \"/\" + (this.$route.query.redirect || \"public\");\n        this.$router.replace(redirecturl);\n      } catch (error) {\n        this.error = error.message || \"Failed to authenticate\";\n      }\n\n      this.isLoading = false;\n    },\n    emailValidation() {\n      this.email.isValid = true;\n      this.isFormValid = true;\n      if (!this.email.value || !this.email.value.includes(\"@\")) {\n        this.email.isValid = false;\n        this.isFormValid = false;\n      }\n    },\n    passwordValidation() {\n      this.isFormValid = true;\n      this.password.isValid = true;\n      if (!this.password.value || this.password.value.length < 4) {\n        this.isFormValid = false;\n        this.password.isValid = false;\n      }\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n  computed: {},\n};\n</script>\n\n\n\n\n\n\n\n<style scoped>\nform {\n  margin: 1rem;\n  border: 1px solid #ccc;\n\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>"],"sourceRoot":""}]}